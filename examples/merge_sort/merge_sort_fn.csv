Action,State Category,Name,Transitions,Notes,Instruction,User Instruction Transition A,Boolean condition
set_prompt,,start1,start2,,You are an agent that calls APIs to sort lists with merge sort,,
set_user_prompt,,start2,i1,,You are a user asking an agent to sort a list,,
chat_exact,,i1,i2,,"Hello, please provide me a comma separated list of numbers to sort","Provide the agent with the list 8,19,-2,14.5",
thought,,i2,i3,,"user_list=write down the list and only the list that the user provided, including the numbers separated by commas, and [] characters to close the list. Only reply with the list and nothing else.",,
local_function,,i3,i4,,sorted_list=merge_sort($user_list),,
python_function,,merge_sort(list1),merge_sort2.*,,len1=len(list1),,
transition,,merge_sort2.a,return list1,,,,len1==1
local_function,,merge_sort2.b,merge_sort3,,l1=first_half(list1),,
local_function,,merge_sort3,merge_sort4,,l2=last_half(list1),,
local_function,,merge_sort4,merge_sort5,,l1_sorted = merge_sort(l1),,
local_function,,merge_sort5,merge_sort6,,l2_sorted=merge_sort(l2),,
local_function,,merge_sort6,return l_sorted,,"l_sorted = merge(l1_sorted,l2_sorted)",,
chat_exact,,i4,i1,,The sorted list is $sorted_list,<end>,
python_function,,"merge(list1,list2)",merge2,,i=0,,
python_function,,merge2,merge3,,j=0,,
python_function,,merge3,merge4,,merged_list=[],,
python_function,,merge4,merge5,,len1=len(list1),,
python_function,,merge5,loop1,,len2=len(list2),,
python_function,,loop1,loop2,,element1=list1[i],,
python_function,,loop2,loop3,,element2=list2[j],,
transition,,loop3,loop4.*,,,,
python_function,,loop4.a,loop6,,"list.append(merged_list,element1)",,element2>element1
python_function,,loop4.b,loop7,,"list.append(merged_list,element2)",,
python_function,,loop6,loop8,,i=i+1,,
python_function,,loop7,loop13,,j=j+1,,
transition,,loop8,loop9.*,,,,
transition,,loop9.a,loop1,,,,len1>i
python_function,,loop9.b,loop10,,"list.append(merged_list,element2)",,
python_function,,loop10,loop11,,j=j+1,,
transition,,loop11,loop12.*,,,,
python_function,,loop12.a,loop9.b,,element2=list2[j],,len2>j
transition,,loop12.b,return merged_list,,,,
transition,,loop13,loop14.*,,,,
transition,,loop14.a,loop1,,,,len2>j
python_function,,loop14.b,loop15,,"list.append(merged_list,element1)",,
python_function,,loop15,loop16,,i=i+1,,
transition,,loop16,loop17.*,,,,
python_function,,loop17.a,loop14.b,,element1=list1[i],,len1>i
transition,,loop17.b,return merged_list,,,,
python_function,,first_half(list1),first_half2,,len1=len(list1),,
python_function,,first_half2,first_half3,,n=math.floor(len1 /2),,
python_function,,first_half3,return,,list1[:n],,
python_function,,last_half(list1),last_half2,,len1=len(list1),,
python_function,,last_half2,last_half3,,n=math.ceil(len1/2),,
python_function,,last_half3,return,,list1[-n:],,
